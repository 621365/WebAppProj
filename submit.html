<!doctype html>
<html>
  <head>
    <title>
      Article Submissions
    </title>
    <meta property="og:description description" content="Send articles to our editors using this form! (You will have to send this through email due to no back-end server existing.)">
    <meta charset="UTF-8">
    <meta property="description" class="description" content="Send articles to our editors using this form! (You will have to send this through email due to no back-end server existing.)">
    <meta property="og:description" class="description" content="Send articles to our editors using this form! (You will have to send this through email due to no back-end server existing.)">
    <meta property="og:title" id="meta-title" content="Article Submissions">
    <meta name="description" class="description" content="Send articles to our editors using this form! (You will have to send this through email due to no back-end server existing.)">
    <meta name="author" id="author" content="Gabriel Lazaro">
    <meta name="og:image" content="favicon.svg">
    <meta name="image" content="favicon.svg">
    <meta property="og:locale" content="en_US">
    <meta property="og:site_name" content="Gabriel-Chyler News">
    <meta property="og:type" content="website">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    
    <script src="./libext.js"></script>
    <script src="./libret.js"></script>
    <script src="./archives.js"></script> <!-- Somehow, functions meant for the exclusive use of one site greatly help another site and have no conflicts with this site either. -->
    <script src="./archive.js"></script>
    <link rel="stylesheet" type="text/css" href="./style.css">
    <link rel="icon" href="favicon.svg">
    <link rel="manifest" href="manifest.json">
  </head>
  <body>
    <header id="header">
      <div class="skipper">
        <div class="skipper-container-border">
            <div class="skipper-container">
                <div class="skipper-title">
                    Skip to Main Content
                </div>
                <div class="skipper-text">
                    Press Enter or press OK to enter the main content. Press Tab or press another part of the screen to cancel and close this window.
                </div>
                <a class="skipper-button noshowlink" href="#main" tabindex="0" title="Skip to Main Content">
                    OK
                </a>
            </div>
        </div>
    </div>
      <div class="skipper">
        <div class="skipper-container-border">
            <div class="skipper-container">
                <div class="skipper-title">
                    Skip to Footer
                </div>
                <div class="skipper-text">
                    Press Enter or press OK to enter the bottom navigation screen. Press Tab or press another part of the screen to cancel and close this window.
                </div>
                <a class="skipper-button noshowlink" href="#footer" tabindex="0" title="Skip to Footer">
                    OK
                </a>
            </div>
        </div>
    </div>
      <div id="headtop">
        <a href="./index.html" title="Main Page" desc="Page that is shown when first entering the site." class="headtop">
          GCN
        </a>
        <a href="./archives.html" title="Article Archive" desc="Listing of all articles made and where to access them." class="headtop">
          Articles
        </a>
        <a href="./info.html" title="Information" desc="Information regarding the purpose of this site." class="headtop">
          Information
        </a>
        <a href="./search.html" title="Search" desc="Specifically search for whatever you want on this site." class="headtop">
          Search
        </a>
      </div>
      <div id="headlow">
        <a href="./hot.html" title="Hot News" desc="Trending news handpicked by the editors." class="headlow">
          Hot News
        </a>
        <a href="./submit.html" title="Submit Articles" desc="Submit articles to the editors to be published to this site." class="headlow" id="headlow-chosen">
          Submit Articles
        </a>
        <a href="./archives.html" title="Article Archives" desc="Listing of all articles made and where to access them." class="headlow">
          Archives
        </a>
        <a href="./contact.html" title="Contact Page" desc="Information on how to contact the editors." class="headlow">
          Contact Information
        </a>
      </div>
    </header>
    <main id="main">
      <h1>Submit Articles!</h1>
      <form onsubmit="return false;" autocomplete="off">
        <h2>Basic Article Information</h2>
        
        <label for="title">Article Title:</label><br>
        <input name="title" title="The title of the article." placeholder="Enter Article Title:" type="text" required><br>
        <br>
        
        <label for="content">Article Content:</label><br>
        <textarea name="content" style="height: 10cm;" title="This is the text that is in the article." placeholder="Enter Information:" type="text" required></textarea><br>
        <br>
        
        <label for="description">Article Description</label><br>
        <input name="description" title="A summary of the article." placeholder="Enter Article Description:" type="text" required><br>
        <br>
        
        <label for="author">Article Author</label><br>
        <input name="author" title="The person who made this article." placeholder="Enter Article Author:" type="text" required><br>
        <br>
        
        <hr>
        
        <h2>Time of Article Creation</h2>
        <div class="form-entry">
          <label for="year">Enter the Year: </label>
          <input name="year" title="Variable per year, but average of 365.2425 days." type="number" min="1901" max="2038" value="1987" placeholder="Enter Year Here: " required="">
        </div>
        <br>
        <div class="form-entry">
          <label for="month">Enter the Month: </label>
          <input name="month" title="Amount of days ranging from 28-31; average of 30.4375 days." type="number" value="1" min="1" max="12" placeholder="Enter Month Here: ">
        </div>
        <br>
        <div class="form-entry">
          <label for="day">Enter the Day: </label>
          <input name="day" title="24 Hours" type="number" min="1" max="31" value="1" placeholder="Enter Day Here: ">
        </div>
        <br>
        <div class="form-entry">
          <label for="hour">Enter the Hour: </label>
          <input name="hour" title="60 Minutes" type="number" min="0" max="23" value="12" placeholder="Enter Hour Here: ">
        </div>
        <br>
        <div class="form-entry">
          <label for="min">Enter the Minute: </label>
          <input name="min" title="60 Seconds" type="number" min="0" max="59" value="0" placeholder="Enter Minute Here: ">
        </div>
        <br>
        <div class="form-entry">
          <label for="sec">Enter the Second: </label>
          <input name="sec" title="International Unit of Time" type="number" min="0" max="59" value="0" placeholder="Enter Second Here: ">
        </div>
        <br>
        <div class="form-entry">
          <label for="UTC">Enter your UTC Dialation: </label>
          <input name="utc" title="Officially set dialtion of time relative to Britain." type="number" min="-12" max="14" placeholder="Enter UTC Dialation Here: ">
        <br>
        <hr>
        <button title="Uses browser-set UTC dialation." type="button" onclick="determineUTC();" ontouchstart="determineUTC();">Determine my UTC Dialation</button>
        <br>
        <button title="Uses browser-set date." type="button" onclick="fillDate();" ontouchstart="fillDate();">Auto-Place Current Date</button>
        <br><br>
      </div>
        <h2>Optional Information</h2>
        <label for="tags">Article Tags:</label>
        <input name="tags" title="Used to help readers understand the topic of the article quickly before reading it." placeholder="Enter Tags, Seperated With a Comma (Used to Help Identify Article):" type="text">
        <br><br>
        
        <label for="medium" title="Click the checkbox if the article contains an image, video, or external link.">A visual, auditory, or interactive text medium does accompany this article: </label>
        <input name="medium" type="checkbox" title="Click the checkbox if the article contains an image, video, or external link." onclick="imageThing();" ontouchstart="imageThing();"onselect="imageThing();"><br><br>
        
        <div id="imageReq">
          <label for="source" title="Where the medium is located as a URL">Medium Source (as URL):</label><br>
          <input name="source" title="Where the medium is located as a URL" placeholder="Enter URL to Medium:" type="url" required>
          <br><br>
          
          <label for="alt" title="Enter a descriptive description of the medium in question; this description will be used if the browser fails to load the medium.">Medium Description:</label><br>
          <input name="alt" title="Enter a descriptive description of the medium in question; this description will be used if the browser fails to load the medium." placeholder="Enter Medium Description:" type="text" required>
          <br><br>
          
          <label for="type">Type of Medium</label><br>
          <select name="type" title="How you would categorize the medium." placeholder="Enter Type:" type="text" onchange="subType();" required>
            <option value="NUL" disabled selected>Please Select a Type</option>
            <option value="VID">Video</option>
            <option value="IMG">Image</option>
            <option value="YTV">YouTube Embed</option>
            <option value="EBD">Embed</option>
            <option value="AUD">Audio</option>
            <option value="IDE">Code</option>
            <option value="NUL">Other/Unknown</option>
          </select>
          <br><br>
          
          <label for="subtype">Sub-Type of Medium</label><br>
          <select title="Choose a Type to Select a Sub-Type" name="subtype" placeholder="Enter Subtype:" type="text" required>
            <option value="NUL" disabled selected>Select Type Before Selecting Sub-Type</option>
          </select>
          <br>
        </div>
        <br>
        <hr>
        <br>
        <button title="Send to Clipboard" type="button" onclick="sub(false);" ontouchstart="sub(false);">Copy to Clipboard</button>
        <br>
        <button title="Send to Editors" type="button" onclick="sub(true);" ontouchstart="sub(true);">Email to Editors</button>
      </form>
    </main>
    <footer id="footer">
      <div id="foot-desc">
        <div>Send articles to our editors using this form! (You will have to send this through email due to no back-end server existing.)</div>
      </div>
      </div>
      <hr>
      <div id="foot-nav">
        <div>
          <h2>
            Fresh Stuff
          </h2>
          <ul>
            <li>
              <a href="./index.html" title="Main Page" desc="Page that is shown when first entering the site." >
                Home
              </a>
            </li>
            <li>
              <a href="./hot.html" title="Hot News" desc="Trending news handpicked by the editors." >
                Hot News
              </a>
            </li>
            <li>
              <a href="./submit.html" title="Submit Articles" desc="Submit articles to the editors to be published to this site." >
                Submit Articles
              </a>
            </li>
          </ul>
      </div>
        <div>
        <h2>
          Articles
        </h2>
          <ul>
            <li>
              <a href="./archives.html"  title="Article Archive" desc="Listing of all articles made and where to access them." >
                Archives
              </a>
            </li>
            <li>
              <a href="./search.html" title="Search" desc="Specifically search for whatever you want on this site." >
                Search
              </a>
            </li>
            <li>
              <a href="./info.html" title="Site Information" desc="Information regarding the purpose of this site." >
                Site Information
              </a>
            </li>
          </ul>
      </div>
      <div>
        <h2>
          Information
        </h2>
          <ul>
            <li>
              <a href="./contact.html"  title="Contact Page" desc="Information on how to contact the editors." >
                Contact Information
              </a>
            </li>
            <li>
              <a href="./terms.html" title="Terms of Service" desc="Learn how we expect users to behave on this site." >
                Terms of Service
              </a>
            </li>
            <li>
              <a href="./legal.html" title="Legal Information" desc="Page declaring protection for our intellectual property." >
                Copyright & Licenses
              </a>
            </li>
          </ul>
        </div>
        </div>
      </div>
      <hr>
      <div id="foot-cop">
        Copyleft 2024 Gabriel Lazaro & Chyler Davies Cortez under <a href="./legal.html#gnu" title="Click here to view the GNU License">GNU License Version 3 or Earlier</a>
      </div>
    </footer>
    <style> /* Style Exclusive to this part of the site. */
      #imageReq {
        padding: 0 0.1cm;
        display: none; 
        overflow-y: hidden; 
        height: 0px;
        transition: height 0.25s cubic-bezier(0, 1, 0.5, 1);;
      }

      @media (prefers-reduced-motion) {
        #imageReq, body, html, *, main {
          transition: none !important;
          transition-duration: 0s !important;
        }
      }
    </style>
    <script>
      // Scripts Exclusive to this part of the site.
      function imageThing() {
        if (document.getElementsByName("medium")[0].checked) { document.getElementById("imageReq").style.display = "block"; document.getElementById("imageReq").style.height = "0cm"; }
        let glc = setTimeout(() => { document.getElementById("imageReq").style.height = ((document.getElementsByName("medium")[0].checked) ? "6cm" : "0cm"); clearTimeout(glc); }, 1);
        let img = setTimeout(() => { document.getElementById("imageReq").style.display = (document.getElementsByName("medium")[0].checked) ? "block" : "none"; clearTimeout(img); }, ((noMotion) ? 1 : 250));
      }

      // porCorrero determines if sent through mail or not
      // specific for this portion
      function sub(porCorreo=false) {
        // Init
        let result = {"meta":{"timestamp":{}}};

        // Basic GET
        result.title = document.getElementsByName("title")[0].value;
        result.content = document.getElementsByName("content")[0].value.replace(/\n/g, "<br>").replace(/\t/g, "&emsp;");
        result.meta.description = document.getElementsByName("description")[0].value;
        result.meta.author = document.getElementsByName("author")[0].value;
        result.meta.uuid = uuid(1, true);
        result.meta.tags = document.getElementsByName("tags")[0].value.split(",");
        // White-Space Safeguard
        for (t in result.meta.tags) result.meta.tags[t] = result.meta.tags[t].trim();
          
        result.author = document.getElementsByName("author")[0].value;
        result.meta.error = true; // Originally meant for error-type articles, now intended for determining verified articles.
        // Image GET(?)
        if (document.getElementsByName("medium")[0].checked) {
          result.meta.image = {
            "source":  document.getElementsByName("source")[0].value,
            "alt":  document.getElementsByName("alt")[0].value,
            "type": [document.getElementsByName("type")[0].value, document.getElementsByName("subtype")[0].value]
          };
        } else {
          result.meta.image = {
            "source": null,
            "alt": "No Image Shown",
            "type": [null]
          };
        }

        // YouTube Embed Exception
        if (document.getElementsByName("type")[0].value == "YTV") {
          let srsR;
          try {
              srsR = new URL(document.getElementsByName("source")[0].value).search.slice(3, 14).toString();
          } catch (e) {
              srsR = document.getElementsByName("source")[0].value.slice(0, 11).toString();
          }
          result.meta.image.source = srsR;
        }
    
        // Time GET
        result.meta.timestamp = {
          "year": parseInt(document.getElementsByName("year")[0].value),
          "month": parseInt(document.getElementsByName("month")[0].value),
          "day": parseInt(document.getElementsByName("day")[0].value),
          "hour": parseInt(document.getElementsByName("hour")[0].value),
          "minute": parseInt(document.getElementsByName("min")[0].value),
          "second": parseFloat(document.getElementsByName("sec")[0].value),
          "UTC": parseInt(document.getElementsByName("utc")[0].value)
        }
        
        if (porCorreo) {
          window.location.replace("mailto:621365@monet.k12.ca.us?subject=Automated%20Mail%Submission&body=" + "," + encodeURIComponent(JSON.stringify(result)));
        }  else {
          copy("," + JSON.stringify(result), 64);
        }
        return result;
      }

      // Changes Subtype Based on libret info
      function subType() {
          var sel = document.getElementsByName("subtype")[0];
          var val = document.getElementsByName("type")[0];
          var sub = libRet[val.options[val.selectedIndex].value]
          sel.title = "Sub-Types for " + val.options[val.selectedIndex].value;
          sel.innerHTML = "";

          // Placeholder Title
          let tempTit = document.createElement("option");
          tempTit.value = "NUL";
          tempTit.setAttribute("disabled", "");
          tempTit.setAttribute("selected", "");
          tempTit.innerHTML = "Please Select a Sub-Type";
          sel.appendChild(tempTit);
              
          for (let i = 0; i < libRet[val.value].length; i++) {
            let temp = document.createElement("option");
            temp.value = sub[i][0];
            temp.innerHTML = sub[i][1];
            sel.appendChild(temp);
          }
      }

      // Confirm Leave
      window.addEventListener("beforeunload", function(e){
        e.preventDefault();
        e.returnValue = true;
      })
    </script>
  </body>
</html>
